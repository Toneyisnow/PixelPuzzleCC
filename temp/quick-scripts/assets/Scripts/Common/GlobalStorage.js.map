{"version":3,"sources":["GlobalStorage.js"],"names":["GlobalStorage","key","value","cc","sys","localStorage","setItem","obj","JSON","stringify","getItem","console","log","valueString","parse","removeItem","characterId","onLoadedCallback","loader","loadRes","SpriteAtlas","err","atlas","frame","getSpriteFrame","module","exports"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;IAGMA;AAEF,6BAAc;AAAA;AAEb;;;;8CAG4BC,KAAKC,OAAO;;AAErCC,eAAGC,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4BL,GAA5B,EAAiCC,KAAjC;AAEH;;;+CAE6BD,KAAKM,KAAK;;AAEpCJ,eAAGC,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4BL,GAA5B,EAAiCO,KAAKC,SAAL,CAAeF,GAAf,CAAjC;AAEH;;;8CAE4BN,KAAK;;AAE9B,gBAAIC,QAAQC,GAAGC,GAAH,CAAOC,YAAP,CAAoBK,OAApB,CAA4BT,GAA5B,CAAZ;AACAU,oBAAQC,GAAR,CAAY,yBAAZ,EAAuCV,KAAvC;;AAEA,mBAAOA,KAAP;AACH;;;+CAE6BD,KAAK;;AAE/B,gBAAIY,cAAcV,GAAGC,GAAH,CAAOC,YAAP,CAAoBK,OAApB,CAA4BT,GAA5B,CAAlB;AACA,gBAAIM,MAAMC,KAAKM,KAAL,CAAWD,WAAX,CAAV;;AAEA,mBAAON,GAAP;AACH;;;gDAE8BN,KAAK;;AAEhCE,eAAGC,GAAH,CAAOC,YAAP,CAAoBU,UAApB,CAA+Bd,GAA/B;AACH;;;iDAE+Be,aAAaC,kBAAkB;;AAE3DN,oBAAQC,GAAR,CAAY,0CAAZ,EAAwDI,WAAxD;AACAb,eAAGe,MAAH,CAAUC,OAAV,CAAkB,uBAAlB,EAA2ChB,GAAGiB,WAA9C,EAA2D,UAAUC,GAAV,EAAeC,KAAf,EAAsB;;AAE7E,oBAAIC,QAAQD,MAAME,cAAN,CAAqB,OAAOR,WAA5B,CAAZ;;AAEAC,iCAAiBM,KAAjB;AACH,aALD;AAMH;;;;;;AAEJ;;AAEDE,OAAOC,OAAP,GAAiB1B,aAAjB;;AAGAG,GAAGH,aAAH,GAAmBA,aAAnB","file":"GlobalStorage.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Scripts\\Common","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\n\r\nclass GlobalStorage {\r\n    \r\n    constructor() {\r\n        \r\n    }\r\n    \r\n    \r\n    static saveIntermediateValue(key, value) {\r\n        \r\n        cc.sys.localStorage.setItem(key, value);\r\n\r\n    }\r\n    \r\n    static saveIntermediateObject(key, obj) {\r\n        \r\n        cc.sys.localStorage.setItem(key, JSON.stringify(obj) );\r\n\r\n    }\r\n    \r\n    static loadIntermediateValue(key) {\r\n        \r\n        let value = cc.sys.localStorage.getItem(key);\r\n        console.log('loadIntermediateValue: ', value);\r\n        \r\n        return value;\r\n    }\r\n        \r\n    static loadIntermediateObject(key) {\r\n\r\n        let valueString = cc.sys.localStorage.getItem(key);\r\n        let obj = JSON.parse(valueString);\r\n        \r\n        return obj;\r\n    }\r\n    \r\n    static clearIntermediateObject(key) {\r\n        \r\n        cc.sys.localStorage.removeItem(key);\r\n    }\r\n    \r\n    static loadCharacterSpriteFrame(characterId, onLoadedCallback) {\r\n    \r\n        console.log('loadCharacterSpriteFrame: characterId = ', characterId);\r\n        cc.loader.loadRes(\"characters/chars_fzlb\", cc.SpriteAtlas, function (err, atlas) {\r\n            \r\n            var frame = atlas.getSpriteFrame('c_' + characterId);\r\n            \r\n            onLoadedCallback(frame);\r\n        });\r\n    }\r\n    \r\n};\r\n\r\nmodule.exports = GlobalStorage;\r\n\r\n\r\ncc.GlobalStorage = GlobalStorage;\r\n"]}